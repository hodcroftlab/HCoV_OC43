host: TPH-L24056
Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 9
Rules claiming more threads will be scaled down.
Job stats:
job                      count
---------------------  -------
align                        3
all                          1
ancestral                    3
blast                        3
blast_sort                   3
export                       3
filter                       3
index_sequences              3
reference_gb_to_fasta        3
refine                       3
traits                       3
translate                    3
tree                         3
total                       37

Select jobs to execute...
Execute 6 jobs...

[Tue Apr  1 16:03:44 2025]
localrule blast:
    input: membrane/results/extracted.fasta, data/sequences.fasta
    output: temp/membrane/blast_out.csv
    jobid: 35
    reason: Updated input files: data/sequences.fasta
    wildcards: seg=membrane
    resources: tmpdir=/tmp


[Tue Apr  1 16:03:44 2025]
Job 11: 
        Converting reference sequence from genbank to fasta format and putting it in the reference folders of your proteins
        
Reason: Missing output files: spike/results/reference_sequence.fasta


[Tue Apr  1 16:03:44 2025]
localrule blast:
    input: whole_genome/results/extracted.fasta, data/sequences.fasta
    output: temp/whole_genome/blast_out.csv
    jobid: 48
    reason: Updated input files: data/sequences.fasta
    wildcards: seg=whole_genome
    resources: tmpdir=/tmp


[Tue Apr  1 16:03:44 2025]
Job 50: 
        Converting reference sequence from genbank to fasta format and putting it in the reference folders of your proteins
        
Reason: Missing output files: whole_genome/results/reference_sequence.fasta


[Tue Apr  1 16:03:44 2025]
localrule blast:
    input: spike/results/extracted.fasta, data/sequences.fasta
    output: temp/spike/blast_out.csv
    jobid: 9
    reason: Updated input files: data/sequences.fasta
    wildcards: seg=spike
    resources: tmpdir=/tmp


[Tue Apr  1 16:03:44 2025]
Job 37: 
        Converting reference sequence from genbank to fasta format and putting it in the reference folders of your proteins
        
Reason: Missing output files: membrane/results/reference_sequence.fasta

[Tue Apr  1 16:03:45 2025]
Finished job 50.
1 of 37 steps (3%) done
[Tue Apr  1 16:03:45 2025]
Finished job 11.
2 of 37 steps (5%) done
[Tue Apr  1 16:03:45 2025]
Finished job 37.
3 of 37 steps (8%) done
[Tue Apr  1 16:03:48 2025]
Finished job 35.
4 of 37 steps (11%) done
Select jobs to execute...
Execute 1 jobs...

[Tue Apr  1 16:03:48 2025]
localrule blast_sort:
    input: temp/membrane/blast_out.csv, data/sequences.fasta
    output: membrane/results/sequences.fasta, membrane/results/blast_membrane_length.tsv
    jobid: 34
    reason: Input files updated by another job: temp/membrane/blast_out.csv
    wildcards: seg=membrane
    resources: tmpdir=/tmp

[Tue Apr  1 16:03:50 2025]
Finished job 34.
5 of 37 steps (14%) done
Select jobs to execute...
Execute 1 jobs...

[Tue Apr  1 16:03:50 2025]
Job 33: 
        Creating an index of sequence composition for filtering.
        
Reason: Input files updated by another job: membrane/results/sequences.fasta

[Tue Apr  1 16:03:50 2025]
Finished job 9.
6 of 37 steps (16%) done
Select jobs to execute...
Execute 1 jobs...

[Tue Apr  1 16:03:50 2025]
localrule blast_sort:
    input: temp/spike/blast_out.csv, data/sequences.fasta
    output: spike/results/sequences.fasta, spike/results/blast_spike_length.tsv
    jobid: 8
    reason: Input files updated by another job: temp/spike/blast_out.csv
    wildcards: seg=spike
    resources: tmpdir=/tmp

[Tue Apr  1 16:03:51 2025]
Finished job 33.
7 of 37 steps (19%) done
Select jobs to execute...
Execute 1 jobs...

[Tue Apr  1 16:03:51 2025]
Job 32: 
        Filtering to
          
          - from 1960 onwards
          - excluding strains in config/dropped_strains.txt
        
Reason: Input files updated by another job: membrane/results/sequence_index.tsv

[Tue Apr  1 16:03:51 2025]
Finished job 8.
8 of 37 steps (22%) done
Select jobs to execute...
Execute 1 jobs...

[Tue Apr  1 16:03:51 2025]
Job 7: 
        Creating an index of sequence composition for filtering.
        
Reason: Input files updated by another job: spike/results/sequences.fasta

[Tue Apr  1 16:03:52 2025]
Finished job 32.
9 of 37 steps (24%) done
Select jobs to execute...
Execute 1 jobs...

[Tue Apr  1 16:03:52 2025]
Job 31: 
            Aligning sequences to membrane/results/reference_sequence.fasta using Nextalign.
            
Reason: Missing output files: membrane/results/aligned.fasta; Input files updated by another job: membrane/results/filtered.fasta, membrane/results/reference_sequence.fasta

[Tue Apr  1 16:03:52 2025]
Finished job 7.
10 of 37 steps (27%) done
Select jobs to execute...
Execute 1 jobs...

[Tue Apr  1 16:03:53 2025]
Job 5: 
        Filtering to
          
          - from 1960 onwards
          - excluding strains in config/dropped_strains.txt
        
Reason: Input files updated by another job: spike/results/sequence_index.tsv

[Tue Apr  1 16:03:55 2025]
Finished job 31.
11 of 37 steps (30%) done
Select jobs to execute...
Waiting for more resources.
[Tue Apr  1 16:03:56 2025]
Finished job 5.
12 of 37 steps (32%) done
Execute 1 jobs...

[Tue Apr  1 16:03:56 2025]
Job 4: 
            Aligning sequences to spike/results/reference_sequence.fasta using Nextalign.
            
Reason: Missing output files: spike/results/aligned.fasta; Input files updated by another job: spike/results/reference_sequence.fasta, spike/results/filtered.fasta

[Tue Apr  1 16:03:59 2025]
Finished job 4.
13 of 37 steps (35%) done
Select jobs to execute...
Waiting for more resources.
[Tue Apr  1 16:04:00 2025]
Finished job 48.
14 of 37 steps (38%) done
Execute 1 jobs...

[Tue Apr  1 16:04:00 2025]
Job 3: 
        Creating a maximum likelihood tree
        
Reason: Missing output files: spike/results/tree_raw.nwk; Input files updated by another job: spike/results/aligned.fasta

[Tue Apr  1 16:04:53 2025]
Finished job 3.
15 of 37 steps (41%) done
Select jobs to execute...
Execute 1 jobs...

[Tue Apr  1 16:04:53 2025]
Job 30: 
        Creating a maximum likelihood tree
        
Reason: Missing output files: membrane/results/tree_raw.nwk; Input files updated by another job: membrane/results/aligned.fasta

[Tue Apr  1 16:05:47 2025]
Finished job 30.
16 of 37 steps (43%) done
Select jobs to execute...
Execute 3 jobs...

[Tue Apr  1 16:05:47 2025]
localrule blast_sort:
    input: temp/whole_genome/blast_out.csv, data/sequences.fasta
    output: whole_genome/results/sequences.fasta, whole_genome/results/blast_whole_genome_length.tsv
    jobid: 47
    reason: Input files updated by another job: temp/whole_genome/blast_out.csv
    wildcards: seg=whole_genome
    resources: tmpdir=/tmp


[Tue Apr  1 16:05:47 2025]
Job 2: 
        Refining tree by rerooting and resolving polytomies
          - estimate timetree
          - use opt coalescent timescale
          - estimate marginal node dates
          - filter tips more than 3 IQDs from clock expectation
        
Reason: Missing output files: spike/results/tree.nwk, spike/results/branch_lengths.json; Input files updated by another job: spike/results/tree_raw.nwk, spike/results/aligned.fasta


[Tue Apr  1 16:05:47 2025]
Job 29: 
        Refining tree by rerooting and resolving polytomies
          - estimate timetree
          - use opt coalescent timescale
          - estimate marginal node dates
          - filter tips more than 3 IQDs from clock expectation
        
Reason: Missing output files: membrane/results/branch_lengths.json, membrane/results/tree.nwk; Input files updated by another job: membrane/results/tree_raw.nwk, membrane/results/aligned.fasta

[Tue Apr  1 16:05:49 2025]
Finished job 47.
17 of 37 steps (46%) done
Select jobs to execute...
Execute 1 jobs...

[Tue Apr  1 16:05:49 2025]
Job 46: 
        Creating an index of sequence composition for filtering.
        
Reason: Input files updated by another job: whole_genome/results/sequences.fasta

[Tue Apr  1 16:05:52 2025]
Finished job 46.
18 of 37 steps (49%) done
Select jobs to execute...
Execute 1 jobs...

[Tue Apr  1 16:05:52 2025]
Job 45: 
        Filtering to
          
          - from 1960 onwards
          - excluding strains in config/dropped_strains.txt
        
Reason: Input files updated by another job: whole_genome/results/sequence_index.tsv

[Tue Apr  1 16:05:54 2025]
Finished job 45.
19 of 37 steps (51%) done
Select jobs to execute...
Execute 1 jobs...

[Tue Apr  1 16:05:54 2025]
Job 44: 
            Aligning sequences to whole_genome/results/reference_sequence.fasta using Nextalign.
            
Reason: Missing output files: whole_genome/results/aligned.fasta; Input files updated by another job: whole_genome/results/reference_sequence.fasta, whole_genome/results/filtered.fasta

[Tue Apr  1 16:05:58 2025]
Finished job 44.
20 of 37 steps (54%) done
Select jobs to execute...
Waiting for more resources.
[Tue Apr  1 16:13:10 2025]
Finished job 29.
21 of 37 steps (57%) done
Execute 2 jobs...

[Tue Apr  1 16:13:10 2025]
Job 38: Inferring ancestral traits for country
Reason: Missing output files: membrane/results/traits.json; Input files updated by another job: membrane/results/tree.nwk


[Tue Apr  1 16:13:10 2025]
Job 39: Reconstructing ancestral sequences and mutations
Reason: Missing output files: membrane/results/nt_muts.json; Input files updated by another job: membrane/results/tree.nwk, membrane/results/aligned.fasta

[Tue Apr  1 16:13:17 2025]
Finished job 38.
22 of 37 steps (59%) done
Select jobs to execute...
Waiting for more resources.
[Tue Apr  1 16:13:30 2025]
Finished job 2.
23 of 37 steps (62%) done
Execute 2 jobs...

[Tue Apr  1 16:13:30 2025]
Job 13: Reconstructing ancestral sequences and mutations
Reason: Missing output files: spike/results/nt_muts.json; Input files updated by another job: spike/results/tree.nwk, spike/results/aligned.fasta


[Tue Apr  1 16:13:30 2025]
Job 12: Inferring ancestral traits for country
Reason: Missing output files: spike/results/traits.json; Input files updated by another job: spike/results/tree.nwk

[Tue Apr  1 16:13:37 2025]
Finished job 12.
24 of 37 steps (65%) done
Select jobs to execute...
Waiting for more resources.
[Tue Apr  1 16:13:39 2025]
Finished job 39.
25 of 37 steps (68%) done
Execute 1 jobs...

[Tue Apr  1 16:13:39 2025]
Job 40: Translating amino acid sequences
Reason: Missing output files: membrane/results/aa_muts.json; Input files updated by another job: membrane/results/nt_muts.json, membrane/results/tree.nwk

[Tue Apr  1 16:13:43 2025]
Finished job 40.
26 of 37 steps (70%) done
Select jobs to execute...
Execute 1 jobs...

[Tue Apr  1 16:13:43 2025]
Job 28: Creating auspice JSONs
Reason: Missing output files: auspice/HCoV_OC43_membrane-accession.json; Input files updated by another job: membrane/results/branch_lengths.json, membrane/results/nt_muts.json, membrane/results/traits.json, membrane/results/tree.nwk, membrane/results/aa_muts.json

[Tue Apr  1 16:13:52 2025]
Finished job 28.
27 of 37 steps (73%) done
Select jobs to execute...
Waiting for more resources.
[Tue Apr  1 16:14:05 2025]
Finished job 13.
28 of 37 steps (76%) done
Execute 1 jobs...

[Tue Apr  1 16:14:05 2025]
Job 43: 
        Creating a maximum likelihood tree
        
Reason: Missing output files: whole_genome/results/tree_raw.nwk; Input files updated by another job: whole_genome/results/aligned.fasta

[Tue Apr  1 16:15:12 2025]
Finished job 43.
29 of 37 steps (78%) done
Select jobs to execute...
Execute 2 jobs...

[Tue Apr  1 16:15:12 2025]
Job 14: Translating amino acid sequences
Reason: Missing output files: spike/results/aa_muts.json; Input files updated by another job: spike/results/tree.nwk, spike/results/nt_muts.json


[Tue Apr  1 16:15:12 2025]
Job 42: 
        Refining tree by rerooting and resolving polytomies
          - estimate timetree
          - use opt coalescent timescale
          - estimate marginal node dates
          - filter tips more than 3 IQDs from clock expectation
        
Reason: Missing output files: whole_genome/results/tree.nwk, whole_genome/results/branch_lengths.json; Input files updated by another job: whole_genome/results/aligned.fasta, whole_genome/results/tree_raw.nwk

[Tue Apr  1 16:15:21 2025]
Finished job 14.
30 of 37 steps (81%) done
Select jobs to execute...
Execute 1 jobs...

[Tue Apr  1 16:15:21 2025]
Job 1: Creating auspice JSONs
Reason: Missing output files: auspice/HCoV_OC43_spike-accession.json; Input files updated by another job: spike/results/traits.json, spike/results/aa_muts.json, spike/results/tree.nwk, spike/results/nt_muts.json, spike/results/branch_lengths.json

[Tue Apr  1 16:16:25 2025]
Finished job 1.
31 of 37 steps (84%) done
[Tue Apr  1 16:20:05 2025]
Finished job 42.
32 of 37 steps (86%) done
Select jobs to execute...
Execute 2 jobs...

[Tue Apr  1 16:20:05 2025]
Job 52: Reconstructing ancestral sequences and mutations
Reason: Missing output files: whole_genome/results/nt_muts.json; Input files updated by another job: whole_genome/results/tree.nwk, whole_genome/results/aligned.fasta


[Tue Apr  1 16:20:05 2025]
Job 51: Inferring ancestral traits for country
Reason: Missing output files: whole_genome/results/traits.json; Input files updated by another job: whole_genome/results/tree.nwk

[Tue Apr  1 16:20:10 2025]
Finished job 51.
33 of 37 steps (89%) done
[Tue Apr  1 16:20:24 2025]
Finished job 52.
34 of 37 steps (92%) done
Select jobs to execute...
Execute 1 jobs...

[Tue Apr  1 16:20:24 2025]
Job 53: Translating amino acid sequences
Reason: Missing output files: whole_genome/results/aa_muts.json; Input files updated by another job: whole_genome/results/tree.nwk, whole_genome/results/nt_muts.json

[Tue Apr  1 16:20:26 2025]
Finished job 53.
35 of 37 steps (95%) done
Select jobs to execute...
Execute 1 jobs...

[Tue Apr  1 16:20:26 2025]
Job 41: Creating auspice JSONs
Reason: Missing output files: auspice/HCoV_OC43_whole_genome-accession.json; Input files updated by another job: whole_genome/results/traits.json, whole_genome/results/branch_lengths.json, whole_genome/results/tree.nwk, whole_genome/results/nt_muts.json, whole_genome/results/aa_muts.json

[Tue Apr  1 16:20:33 2025]
Finished job 41.
36 of 37 steps (97%) done
Select jobs to execute...
Execute 1 jobs...

[Tue Apr  1 16:20:33 2025]
localrule all:
    input: auspice/HCoV_OC43_spike-accession.json, auspice/HCoV_OC43_nucleocapsid-accession.json, auspice/HCoV_OC43_membrane-accession.json, auspice/HCoV_OC43_whole_genome-accession.json
    jobid: 0
    reason: Input files updated by another job: auspice/HCoV_OC43_membrane-accession.json, auspice/HCoV_OC43_spike-accession.json, auspice/HCoV_OC43_whole_genome-accession.json
    resources: tmpdir=/tmp

[Tue Apr  1 16:20:33 2025]
Finished job 0.
37 of 37 steps (100%) done
Complete log: .snakemake/log/2025-04-01T160344.245131.snakemake.log
